<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>SULA AI - Login</title>

<!-- Meta for SEO -->
<meta name="description" content="SULA AI - Smart assistant powered by Firebase Authentication." />
<meta property="og:title" content="SULA AI Login" />
<meta property="og:image" content="https://i.ibb.co/v4HbGG2C/SulaMd.jpg" />

<!-- Google Fonts -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" />

<!-- Firebase SDK (latest compat version) -->
<script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-auth-compat.js"></script>

<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Roboto', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    min-height: 100vh;
    background: radial-gradient(circle at center, #001f3f, #000814, #000);
    animation: bgMove 12s infinite alternate;
    color: #00f7ff;
    padding: 20px;
  }

  @keyframes bgMove {
    0% { background-position: 0% 0%; }
    100% { background-position: 100% 100%; }
  }

  .container {
    background: rgba(0, 20, 40, 0.85);
    border: 1px solid rgba(0, 200, 255, 0.4);
    box-shadow: 0 0 30px rgba(0, 200, 255, 0.7);
    border-radius: 20px;
    width: 100%;
    max-width: 420px;
    padding: 40px;
    display: flex;
    flex-direction: column;
    animation: fadeIn 1.2s ease;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .logo {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 25px;
  }

  .logo img {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    box-shadow: 0 0 20px #00f7ff;
    animation: pulse 2s infinite;
  }

  @keyframes pulse {
    0% { box-shadow: 0 0 10px #00f7ff; }
    50% { box-shadow: 0 0 35px #00f7ff; }
    100% { box-shadow: 0 0 10px #00f7ff; }
  }

  h2 {
    text-align: center;
    margin-bottom: 20px;
    font-size: 2em;
    color: #00eaff;
    text-shadow: 0 0 8px #00f7ff, 0 0 20px #00eaff;
  }

  form {
    display: flex;
    flex-direction: column;
  }

  input {
    width: 100%;
    padding: 14px;
    margin: 10px 0;
    border-radius: 10px;
    border: 1px solid rgba(0, 200, 255, 0.6);
    background: rgba(0, 0, 0, 0.4);
    color: #00f7ff;
    font-size: 1em;
    outline: none;
  }

  input:focus {
    box-shadow: 0 0 15px #00f7ff, 0 0 25px #00f7ff inset;
    background: rgba(0, 0, 20, 0.7);
  }

  button {
    width: 100%;
    padding: 14px;
    margin-top: 10px;
    border-radius: 10px;
    border: 1px solid #00f7ff;
    background: transparent;
    color: #00f7ff;
    font-weight: bold;
    cursor: pointer;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: all 0.3s ease;
  }

  button:hover {
    background: rgba(0, 200, 255, 0.1);
    box-shadow: 0 0 20px #00f7ff, 0 0 40px #00f7ff;
  }

  .google-btn {
    margin-top: 15px;
    background: rgba(0, 0, 50, 0.6);
  }

  .error {
    color: #ff4d4f;
    margin-top: 10px;
    text-align: center;
    font-size: 0.9em;
  }

  .toggle {
    text-align: center;
    margin-top: 20px;
    cursor: pointer;
    font-size: 0.9em;
    color: #00cfff;
  }

  .toggle:hover {
    color: #00f7ff;
    text-shadow: 0 0 10px #00f7ff;
  }

  .hidden { display: none; }
</style>
</head>
<body>

<div class="container">
  <div class="logo">
    <img src="https://i.ibb.co/v4HbGG2C/SulaMd.jpg" alt="SULA AI" />
  </div>

  <h2 id="form-title">Login</h2>
  <div id="error-msg" class="error"></div>

  <!-- Login Form -->
  <form id="login-form">
    <input type="email" id="login-email" placeholder="Email" required />
    <input type="password" id="login-password" placeholder="Password" required />
    <button type="submit">Login</button>
  </form>

  <!-- Sign Up Form -->
  <form id="signup-form" class="hidden">
    <input type="text" id="signup-name" placeholder="Full Name" required />
    <input type="email" id="signup-email" placeholder="Email" required />
    <input type="password" id="signup-password" placeholder="Password" required />
    <button type="submit">Sign Up</button>
  </form>

  <button class="google-btn" id="google-signin">Sign in with Google</button>
  <div class="toggle" id="toggle-auth">Don't have an account? Sign Up</div>
</div>

<script>
  // ✅ Firebase Config
  const firebaseConfig = {
    apiKey: "AIzaSyCtFFZcpoRQ8hSU93pr6ztzIV04pPR1gp0",
    authDomain: "kyrexi-6fe93.firebaseapp.com",
    projectId: "kyrexi-6fe93",
    storageBucket: "kyrexi-6fe93.appspot.com",
    messagingSenderId: "161032847442",
    appId: "1:161032847442:web:50be7c338b589cc7519f8b"
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  const errorMsg = document.getElementById('error-msg');
  const formTitle = document.getElementById('form-title');
  const loginForm = document.getElementById('login-form');
  const signupForm = document.getElementById('signup-form');
  const toggleLink = document.getElementById('toggle-auth');

  // 🔄 Toggle Forms
  let isLogin = true;
  toggleLink.addEventListener('click', () => {
    isLogin = !isLogin;
    errorMsg.textContent = '';
    if (isLogin) {
      formTitle.textContent = 'Login';
      loginForm.classList.remove('hidden');
      signupForm.classList.add('hidden');
      toggleLink.textContent = "Don't have an account? Sign Up";
    } else {
      formTitle.textContent = 'Sign Up';
      loginForm.classList.add('hidden');
      signupForm.classList.remove('hidden');
      toggleLink.textContent = 'Already have an account? Login';
    }
  });

  // 🔐 Login
  loginForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    errorMsg.textContent = '';
    const email = document.getElementById('login-email').value;
    const password = document.getElementById('login-password').value;
    try {
      await auth.signInWithEmailAndPassword(email, password);
      window.location.href = 'sulaai.html';
    } catch (err) {
      errorMsg.textContent = err.message;
    }
  });

  // 🧾 Sign Up
  signupForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    errorMsg.textContent = '';
    const name = document.getElementById('signup-name').value;
    const email = document.getElementById('signup-email').value;
    const password = document.getElementById('signup-password').value;
    try {
      const userCredential = await auth.createUserWithEmailAndPassword(email, password);
      await userCredential.user.updateProfile({ displayName: name });
      alert('Account created successfully!');
      toggleLink.click();
    } catch (err) {
      errorMsg.textContent = err.message;
    }
  });

  // 🔑 Google Sign-In
  document.getElementById('google-signin').addEventListener('click', async () => {
    const provider = new firebase.auth.GoogleAuthProvider();
    try {
      await auth.signInWithPopup(provider);
      window.location.href = 'sulaai.html';
    } catch (err) {
      errorMsg.textContent = err.message;
    }
  });
</script>
</body>
</html>
